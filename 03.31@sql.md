## 1. DDL(Definition)

```shell
docker run --name mysql-container -e MYSQL_ROOT_PASSWORD=1234 -d -p 3306:3306 mysql:latest
docker exec -it mysql-container bash

mysql -u root -p
```

```sql
create schema test;
create dababases test; /* mysql specific */
# create schema test와 동일
use test;
show tables;
# 어떻게 정의되었는가를 나타냄
desc students;

create table students
	name varchar(15) not null,
	number char(5));
	
insert into students (name, number) values ('chanhyle', '1');

select * from students;
```

```sql
create view view1 as
	select name
	from students;

select * from view1;
```

- view
	- 뷰(view)는 데이터베이스에 존재하는 일종의 가상 테이블을 의미합니다.
	- 이러한 뷰는 실제 테이블처럼 행과 열을 가지고 있지만, 실제로 데이터를 저장하고 있지는 않습니다.
	- MySQL에서 뷰(view)는 다른 테이블이나 다른 뷰에 저장되어 있는 데이터를 보여주는 역할만을 수행합니다.
		- 쿼리를 단순화, 재사용하는 역할
	- 즉, 뷰를 사용하면 여러 테이블이나 뷰를 하나의 테이블처럼 볼 수 있습니다.(테이블처럼 사용할 수 있음)
	- 장점
		- 복잡한 쿼리를 단순화해서 사용할 수 있습니다.
		- 쿼리를 재사용할 수 있습니다.
	- 단점
		- 한 번 정의된 뷰는 변경할 수 없습니다.
		- 삽입, 삭제, 갱신 작업에 많은 제한 사항을 가집니다.
		- 자신만의 인덱스를 가질 수 없습니다.

```sql
create index index1 on students(number desc);

show index from students;
```

- index
	- 테이블에 컬럼에 적용
	- 해당 컬럼을 key로 하는 b-tree를 생성
		- cf> b-tree는 rbtree와 완전 같은 것은 아님: rbtree가 b-tree의 한 종류?
		- b-tree가 더 큰 개념
		- https://ko.wikipedia.org/wiki/B_%ED%8A%B8%EB%A6%AC
	- 쿼리 탐색의 기본 설정은 순차 탐색이지만, 인덱스를 걸어놓으면 b-tree를 생성 및 이용해 더 빠르게 탐색할 수 있음

```sql
alter table students add coalition varchar(10);

alter table students alter coalition varchar(10) not null set default 'gun';
alter table students modify column coalition varchar(10) default 'gun'; /* mysql specific */

alter table students drop column age;

select * from students;
```

```sql
drop schema test2;
drop databases test2; /* mysql specific */

show databases;
```

### 기출 따라잡기

1. 
```sql
alter table '학생' add '주소' varchar(20);
```

2. 
```sql
create index idx_name student(name); /* 오답 */

create index idx_name on student(name);

show index from student;
```
- on 주의

3. 
```sql
create table patient \
(id char(5), \
 name char(10), \
 sex char(1), \
 phone char(20), \
 primary key(id), \
 foreign key(id) references doctor(doc_id), \
 constraint sex_ck check(sex in('f', 'm')));

desc patient;
```
- `id char(5) primary key` 로 나타낼 수도 있다
- check(column 이름 in ('f', 'm'))
	- value가 아니라 column 이름을 써야 한다

```sql
create table doctor (doc_id char(1) primary key);
drop table patient;
```

4. 
```sql
create table Instructor \
(id char(5), \
 name char(15) not null, \
 dept char(15), \
 primary key(id), \
 foreign key(dept) references Department(dept) \
	 on delete set null \
	 on update cascade);
```
-  `on delete set null` :  참조 테이블의 튜플이 삭제되었을 때, 기본 테이블에 취해야 할 사항
	- 관련된 속성을 null로 변경
- `on update cascade` :  참조 테이블의 속성이 변경되었을 때, 기본 테이블에 취해야 할 사항
	- 관련된 속성도 같은 값으로 변경

5. 
```sql
alter table patient add job char(20);
```

6. 
```sql
```
## 2. DCL(Control)
