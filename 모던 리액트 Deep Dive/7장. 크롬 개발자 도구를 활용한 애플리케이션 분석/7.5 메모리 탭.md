# 7.5 메모리 탭

- 현재 웹 페이지가 차지하고 있는 메모리 정보를 확인할 수 있다.
- 메모리 누수, 속도 저하, 웹 페이지 프리징 현상을 확인할 수 있다.

## 자바스크립트 인스턴스 VM 선택

- 해당 페이지가 자바스크립트 힙을 얼마나 점유하고 있는지 나타낸다.

## 힙 스냅샷

- 현재 페이지의 메모리 상태를 확인해 볼 수 있다.
- **스냅샷을 하는 시점을 기준으로 메모리 현황을 보여준다.**

[](./heap_snapshot/heap_snapshot.js)

- 두 스냅샷의 차이에서 메모리 사용량 차이를 확인하고 어떤 변수에서 메모리 증가가 이루어졌는지 확인해보자.
- 두 개 이상의 스냅샷을 촬용한 다음 비교하는 것이 좋다.
- useCallback, useMemo을 사용한 값이 그대로 유지되는지 확인할 수 있다. 스냅샷 사이에서 새로 할당되었는지를 확인해보자.
- 메모리 누수가 발생할 것으로 예상되는 스크립트 전후로 내용을 촬영해 비교하는 것이 좋다.

## 타임라인 할당 계측

- 앞의 기법이 특정 시점의 내용을 기록하는 것이라면, 타임라인 할당 계측은 시간의 흐름에 따라 메모리 변화를 확인할 수 있다.
- 비교적 부담이 크다.
- 기간을 좁혀서 확인해볼 수 있다는 장점이 있다.

- 렌더링할 리스트가 증가하는 버튼을 누르면, FiberNode(DOM 추가)와 Array(요소 추가)의 크기가 커지는 것을 알 수 있다.

## 할당 샘플링

- 시간의 흐름에 따라 발생하는 메모리 점유를 확인할 수 있다는 점에서 타임라인 할당 계측과 비슷하다.
- 하지만 실행 스택별로 분석할 수 있고, 이 분석을 함수 단위로 한다는 차이점이 있다.

- 문제가 되는 함수을 확인할 수 있고, 파일명을 통해 소스 탭으로 이동하여 확인할 수도 있다.
- 타임라인 할당 예측과 유사하지만 프로파일링할 때 브라우저에 주는 부담을 최소화할 수 있어 장시간에 걸쳐 디버깅을 수행해야 할 때 유리하다.
