# 9.3 리액트 애플리케이션 배포하기

- 코드가 실제로 사용자에게 제공되려면 실제 인터넷 망에 배포하는 과정이 필요하다.
- 자체 IT 인프라, 클라우드 서비스(AWS, GCP, Azure 등)...
- 리액트 애플리케이션을 가장 손쉽고 빠르게 배포할 수 있도록 도와주는 SaaS 서비스 3가지를 알아본다.

## Netlify

- Netlify는 정적 웹사이트를 배포할 때 가장 많이 사용되는 서비스 중 하나이다.

### create-react-app 배포하기

- 가입 및 팀 생성
- 깃허브와 연동하여 레포지토리를 선택
- 브랜치, 루트 디렉토리, 빌드 명령어, 배포 디렉토리를 설정
- 환경 변수를 지정
- Deploy site를 눌러 배포

### create-next-app 배포하기

- Netlify는 정적 웹 사이트를 배포하는데 최적화되어 있기 때문에, next export를 사용해 정적 웹 사이트로 만들지 않는 이상 추가 설정이 필요하다.
- netlify.toml 파일을 만들어야 한다.

```toml
[[plugins]]
package = "@netlify/plugin-nextjs"
```

- 배포 디렉토리를 /.next로 바꿔준다.

### 추가 기능

- 알림: 배포와 관련된 실패 / 성공 알림을 이메일, 슬랙, 커밋, PR 댓글 등으로 알려준다.
- 도메인 연결
- 서비스 통합: Sentry(오류 수집 툴), Aloglia(검색 도구), Redis(캐싱), Next.js(서버리스 함수) 등 여러 가지 플러그인을 사용할 수 있다.
- 서버리스 함수: Netlify에서 제공하는 규격을 준수해서 함수를 구현해야 한다.
- 사용자 인증

## Vercel

### create-react-app 배포하기

- 가입 및 팀 생성
- 깃허브와 연동하여 레포지토리를 선택
- 루트 디렉토리 및 프레임워크 선택
- Deploy를 눌러 배포

### create-next-app 배포하기

- Vercel은 Next.js를 만든 회사이기 때문에 Next.js를 사용하는 경우에는 특별한 설정이 필요 없다. 프레임워크만 제대로 선택해주면 된다.

### 추가 기능

- 알림
- 도메인 연결
- 서버리스 함수: /pages/api의 내용도 함수로 구분된다.
- 다양한 템플릿: 별도의 코드 작성 없이도 구축할 수 있는 기본적인 웹 사이트(블로그, 쇼핑몰 등)를 제공한다.

### 가격

- 이미지 최적화: 최적화 이미지 1000개 제한
- 서버리스 함수: 총 실행 100GB 제한, 함수 실행 시간은 최대 10초로 제한
- 배포: 하루에 100로 제한

## DigitalOcean

- 미국의 클라우드 컴퓨팅, 호스팅 플랫폼 업체
- 학생 계정은 무료 크레딧이 제공되고, 다양한 리소스에 대해 문서화가 매우 상세하다.

### create-react-app 배포하기

- 가입 및 프로젝트 생성
- 깃허브와 연동하여 레포지토리를 선택
- 루트 디렉토리, 브랜치 등 경로를 설정
- Autodeploy를 체크하면 해당 브랜치에 푸시가 되면 자동으로 배포
- Edit Plan을 눌러 배포할 애플리케이션에 대한 리소스를 설정
- 환경 변수 설정, 배포할 지역 설정
- Create Resources를 눌러 배포

### create-next-app 배포하기

- create-react-app과 크게 다르지 않다.

### 추가 기능

- 알림: 깃허브로 알림을 보내는 기능은 없다.
- 도메인 연결
- 컨테이너에 직접 접근: 실제 서비스 중인 컨테이너(?)에 직접 접근할 수 있다.
- 마켓플레이스: 애플리케이션에 설치할 수 있는 앱을 마켓 형태로 제공한다.

### 가격

- 최소 사양으로 구성한다면, 위의 두 서비스의 유료 플랜 가격보다는 저렴하게 이용 가능하다.

## 정리

- 대부분 비슷한 기능을 제공하며, 빠르게 배포를 할 수 있다.
- Netlify와 Vercel은 정적 웹 사이트를 배포하는데 최적화되어 있다면, DigitalOcean은 AWS처럼 클라우드 컴퓨팅 서비스를 제공한다.
  - Droplets: 리눅스 기반 가상머신
  - Kubernetes 클러스터
  - Databases, Spaces: 데이터베이스, 정적 파일을 업로드할 수 있는 스토리지
