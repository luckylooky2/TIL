# 14.6 OWASP Top 10

- Open Worldwide Application Security Project의 약자로, 웹 애플리케이션 보안에 대한 가장 대표적인 보고서이다.
- 웹에서 발생할 수 있는 정보 노출, 악성 스크립트, 보안 취약점을 다루며 이를 방지하는 방법을 제시한다.

## Top 10

- 1. Broken Access Control

  - 사용자가 자신의 권한 밖의 행동을 할 수 있는 취약점
  - 예시: 특정 권한을 모든 사용자에게 부여
  - 방지: allow list를 기반으로 기본적으로 접근을 막고, 접근 제어 정책을 꼼꼼하게 설정한다.

- 2. Cryptographic Failures

  - 민감 데이터에 대한 암호화 실패
  - 예시: 암호화해야 하는 데이터가 평문으로 저장되어 있음
  - 방지: HSTS 사용, 암호화 시 암호문이 고정되지 않도록 함, 신뢰할 수 있는 인증서 사용

- 3. Injection

  - 사용자 입력을 통해 악성 코드를 삽입하는 취약점
  - 예시: XSS, SQL Injection, ORM Injection
  - 방지: 사용자 입력을 검증하고, escape 처리를 통해 악성 코드를 실행하지 않도록 함

- 4. Insecure Design

  - 기획, 설계 단계에서 발생한 보안 취약점
  - 예시: ?
  - 방지: 기획, 설계 단계에서 보안을 고려해야 함

- 5. Security Misconfiguration

  - 잘못된 환경설정으로 인해 발생하는 취약점
  - 예시: 불필요한 포트 열기, 마스터 계정 기본 비밀번호 사용, 보안 헤더 누락
  - 방지: 불필요한 계정 삭제, 보안 헤더 설정

- 6. Vulnerable and Outdated Components

  - 취약점이 있거나 지원 종료 소프트웨어를 사용하는 경우
  - 예시: OS, Nginx 등 웹 서버, 프레임워크, 라이브러리
  - 방지: 주기적 확인 및 패치 업데이트

- 7. Identification and Authentication Failures

  - 취약한 인증 및 인증 실패
  - 예시: 암호 생성 정책 미정립, 레인보우 테이블 공격에 취약, 인증 및 세션 관리 미흡
  - 방지: 암호화 정책 설정, 2단계 인증, 세션 관리

- 8. Software and Data Integrity Failures

  - 신뢰할 수 없는 소스에 의존하는 경우
  - 예시: 저장소, CDN, 플러그인, 라이브러리
  - 방지: 무결성 검증 절차 수행

- 9. Security Logging and Monitoring Failures

  - 로깅 정보가 부족해 공격을 사전에 감지하지 못하는 취약점
  - 예시: 로그 파일이 존재하지 않음, 로그 파일이 너무 큼
  - 방지: 적절한 형식과 보관 주기로 로깅을 수행, 신속한 모니터링

- 10. Server-Side Request Forgery

  - https://www.lgcns.com/blog/cns-tech/security/3202/
  - 취약한 서버를 이용하여 공격자가 내부 서버에 원하는 요청을 보내도록 하는 방법. 많은 권한을 가진 서버의 요청을 이용할 수 있기 때문
  - 예시: 인터넷 앞단의 웹 서버가 입력된 URL 값을 충분하게 검사하지 않고 다른 내부 서버로 전달
  - 방지: 입력값 검사, 최소 권한의 사용

## 정리

- 버그가 없는 완벽한 소프트웨어는 없다. 현재 버그가 없어도 미래에 생길수도 있다.
- 예시
  - log4js
  - 하트블리드
  - ImageMagick
- 개발만 잘해서 해결되는 문제는 아니다. 웹 서비스 생명주기 전체(설계 -> 코드 -> 서비스 -> 유지보수)에 걸쳐 발생할 수도 있고, 심지어 코드 외부에서도 발생할 수 있다.
- 그러므로 항상 보안 이슈에 귀기울이며 최신 정보를 접하고, 적절한 대응을 해야 한다.
